
def create_editor(container_id: str,
                  toolbar_container_id: str = None,
                  store_id: str = None,
                  placeholder: str = '请输入...',
                  readOnly: bool = False,
                  defaultContent: str = '') -> str:

    if readOnly:

        return '''
const {{ i18nChangeLanguage, createEditor, createToolbar }} = window.wangEditor;

// 切换至中文
i18nChangeLanguage('zh-CN')

const editorConfig = {{
    placeholder: '{placeholder}',
    readOnly: true
}}

const editor = createEditor({{
    selector: '#{container_id}',
    html: '{defaultContent}',
    config: editorConfig,
    mode: 'default'
}})
'''.format(
            **dict(
                container_id=container_id,
                placeholder=placeholder,
                defaultContent=defaultContent
            )
        )

    return '''
const {{ i18nChangeLanguage, createEditor, createToolbar }} = window.wangEditor;

// 切换至中文
i18nChangeLanguage('zh-CN')

const editorConfig = {{
    placeholder: '{placeholder}',
    onChange(editor) {{
      const html = editor.getHtml()
      sessionStorage.setItem('{store_id}', JSON.stringify({{html: html}}))
    }}
}}

const editor = createEditor({{
    selector: '#{container_id}',
    html: '{defaultContent}',
    config: editorConfig,
    mode: 'default'
}})

const toolbarConfig = {{}}

const toolbar = createToolbar({{
    editor,
    selector: '#{toolbar_container_id}',
    config: toolbarConfig,
    mode: 'default'
}})
'''.format(
        **dict(
            container_id=container_id,
            toolbar_container_id=toolbar_container_id,
            store_id=store_id,
            placeholder=placeholder,
            defaultContent=defaultContent
        )
    )
